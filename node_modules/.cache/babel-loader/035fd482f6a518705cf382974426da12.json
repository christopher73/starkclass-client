{"ast":null,"code":"var _jsxFileName = \"/home/chris/repos/StarkClass_Server/client/src/components/Dashboards/index.js\";\nimport React, { useEffect, useState } from \"react\";\nimport Footer from \"../Footer/footer\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport * as cicloAction from \"../../actions/ciclo.actions\";\nimport PremiumModal from \"./Modals/PremiumModal\";\nimport ClassicModal from \"./Modals/ClassicModal\";\nimport firebase from \"../../utils/firebase\";\nimport { getCiclo } from \"../../services/vimeo\";\n\nfunction Dashboard({\n  setCicloData,\n  auth,\n  comprar\n}) {\n  const [materials, setMaterials] = useState(false);\n  const [isShowNotPremiumModal, setIsShowNotPremiumModal] = useState(false);\n  const [isShowMaterials, setIsShowMaterials] = useState(false);\n\n  const aplicar = () => {\n    window.location.replace(\"https://www.mercadopago.com.pe/checkout/v1/redirect?pref_id=520976081-c9da5f8e-9779-414a-8495-0911090f8e35\");\n  };\n\n  useEffect(() => {\n    async function getMaterial() {\n      const db = await firebase.app().storage();\n      let items = [];\n      const res = await db.ref(`/LinkZoom`).listAll();\n\n      if (res.items && res.items.length > 0) {\n        res.items.map(async (el, ind) => {\n          let obj = {\n            name: \"https://zoom.us/j/\" + el.name.substring(0, 10),\n            url: el.fullPath,\n            download: await el.getDownloadURL(),\n            type: el.getMetadata()\n          };\n          items.push(obj);\n        });\n      }\n\n      console.log(\"debuggin: \", res);\n      console.log(\"materials: \", items);\n      return setMaterials(items);\n    }\n\n    getMaterial();\n  }, []);\n  useEffect(() => {\n    async function getC() {\n      await getCiclo().then(res => {\n        console.log(\"response ciclo: \", res);\n        setCicloData(res);\n      });\n    }\n\n    getC();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      backgroundColor: \"white\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, isShowMaterials ? PremiumModal({\n    setIsShowMaterials,\n    materials\n  }) : null, isShowNotPremiumModal ? ClassicModal({\n    setIsShowNotPremiumModal,\n    materials\n  }) : null, /*#__PURE__*/React.createElement(\"img\", {\n    id: \"login\",\n    className: \"h-100 w-100 p-0\",\n    src: \"/assets/img/perfil.png\",\n    alt: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    style: {\n      justifyContent: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-10 col-12 perfilh1\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      textTransform: \"capitalize\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, \" \", \"\\xA1Bienvenido \", auth.user.name.split(\" \")[0], \"!\", /*#__PURE__*/React.createElement(\"img\", {\n    className: \"padding-mobile\",\n    src: \"assets/icons/ovni.png\",\n    width: \"40\",\n    style: {\n      marginTop: -10,\n      marginLeft: 20\n    },\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    style: {\n      justifyContent: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 col-sm-8 col-12 text-center \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"100%\"\n    },\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: auth.user.photo,\n    width: \"150\",\n    alt: auth.user.name,\n    className: \"my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    style: {\n      textTransform: \"uppercase\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, \"User ID: \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }), auth.user.userId ? /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"orange\",\n      fontSize: \"1.6rem\",\n      textTransform: \"uppercase\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, auth.user.userId, \" \", auth.user.isPremium ? \"- PREMIUM\" : \"- CLASSIC\") : /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"orange\",\n      fontSize: \"1.6rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, \"-\")), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    style: {\n      textTransform: \"uppercase\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 15\n    }\n  }, \"E-mail: \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 15\n    }\n  }), auth.user.email ? auth.user.email.split(\"@\")[0].slice(0, 4) + \"...@\" + auth.user.email.split(\"@\")[1] : \"-\"), /*#__PURE__*/React.createElement(\"h5\", {\n    style: {\n      textTransform: \"capitalize\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    style: {\n      textTransform: \"uppercase\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }, \"Nombre: \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 15\n    }\n  }), auth.user.name), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    style: {\n      textTransform: \"uppercase\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 15\n    }\n  }, \"Ciclo:\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 15\n    }\n  }), \" Pre Ulima 2020\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      alignContent: \"center\",\n      justifyContent: \"center\"\n    },\n    className: \"col-md-6 col-sm-4 col-12 perfilR\",\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    id: \"boton-comprar\",\n    to: \"/rep\",\n    className: \"btn mx-auto my-4  shadow-lg \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }, \"Ver Clases\"), /*#__PURE__*/React.createElement(\"a\", {\n    id: \"boton-comprar\",\n    className: \"btn mx-auto my-4  shadow-lg \",\n    onClick: () => auth.user.isPremium ? setIsShowMaterials(true) : setIsShowNotPremiumModal(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, \"Clases Online\"), \" \", /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }, \"Comprar Clases:\"), comprar && auth.user.isPremium === false ? /*#__PURE__*/React.createElement(Link, {\n    id: \"boton-comprar\",\n    to: \"/pago\",\n    className: \"btn mx-auto my-4  shadow-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 15\n    }\n  }, \"Ulima\") : null, /*#__PURE__*/React.createElement(\"btn\", {\n    onClick: () => aplicar(),\n    id: \"boton-comprar\",\n    className: \"btn mx-auto my-4  shadow-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }\n  }, \"San Marcos\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    style: {\n      justifyContent: \"center\",\n      marginTop: 120\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }\n  }, auth.user.isPremium ? /*#__PURE__*/React.createElement(\"button\", {\n    className: \"pagolink btn btn-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }\n  }, \"Boleta de Pago\") : null)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12 m-auto  text-center p-2\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/assets/icons/footer.png\",\n    className: \"img-fluid\",\n    alt: \"cello\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Footer, {\n    sectionR: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }\n  }));\n}\n\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\n\nconst mapDispatchToProps = (dispatch, props) => ({\n  setCicloData: data => dispatch(cicloAction.setCiclo(data))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);","map":{"version":3,"sources":["/home/chris/repos/StarkClass_Server/client/src/components/Dashboards/index.js"],"names":["React","useEffect","useState","Footer","Link","connect","cicloAction","PremiumModal","ClassicModal","firebase","getCiclo","Dashboard","setCicloData","auth","comprar","materials","setMaterials","isShowNotPremiumModal","setIsShowNotPremiumModal","isShowMaterials","setIsShowMaterials","aplicar","window","location","replace","getMaterial","db","app","storage","items","res","ref","listAll","length","map","el","ind","obj","name","substring","url","fullPath","download","getDownloadURL","type","getMetadata","push","console","log","getC","then","backgroundColor","justifyContent","textTransform","user","split","marginTop","marginLeft","width","photo","userId","color","fontSize","isPremium","email","slice","display","flexDirection","alignItems","alignContent","mapStateToProps","state","mapDispatchToProps","dispatch","props","data","setCiclo"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,KAAKC,WAAZ,MAA6B,6BAA7B;AACA,OAAOC,YAAP,MAAyB,uBAAzB;AACA,OAAOC,YAAP,MAAyB,uBAAzB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,SAASC,QAAT,QAAyB,sBAAzB;;AAEA,SAASC,SAAT,CAAmB;AAAEC,EAAAA,YAAF;AAAgBC,EAAAA,IAAhB;AAAsBC,EAAAA;AAAtB,CAAnB,EAAoD;AAClD,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4Bd,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACe,qBAAD,EAAwBC,wBAAxB,IAAoDhB,QAAQ,CAAC,KAAD,CAAlE;AACA,QAAM,CAACiB,eAAD,EAAkBC,kBAAlB,IAAwClB,QAAQ,CAAC,KAAD,CAAtD;;AACA,QAAMmB,OAAO,GAAG,MAAM;AACpBC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CACE,4GADF;AAGD,GAJD;;AAKAvB,EAAAA,SAAS,CAAC,MAAM;AACd,mBAAewB,WAAf,GAA6B;AAC3B,YAAMC,EAAE,GAAG,MAAMjB,QAAQ,CAACkB,GAAT,GAAeC,OAAf,EAAjB;AACA,UAAIC,KAAK,GAAG,EAAZ;AACA,YAAMC,GAAG,GAAG,MAAMJ,EAAE,CAACK,GAAH,CAAQ,WAAR,EAAoBC,OAApB,EAAlB;;AACA,UAAIF,GAAG,CAACD,KAAJ,IAAaC,GAAG,CAACD,KAAJ,CAAUI,MAAV,GAAmB,CAApC,EAAuC;AACrCH,QAAAA,GAAG,CAACD,KAAJ,CAAUK,GAAV,CAAc,OAAOC,EAAP,EAAWC,GAAX,KAAmB;AAC/B,cAAIC,GAAG,GAAG;AACRC,YAAAA,IAAI,EAAE,uBAAuBH,EAAE,CAACG,IAAH,CAAQC,SAAR,CAAkB,CAAlB,EAAqB,EAArB,CADrB;AAERC,YAAAA,GAAG,EAAEL,EAAE,CAACM,QAFA;AAGRC,YAAAA,QAAQ,EAAE,MAAMP,EAAE,CAACQ,cAAH,EAHR;AAIRC,YAAAA,IAAI,EAAET,EAAE,CAACU,WAAH;AAJE,WAAV;AAMAhB,UAAAA,KAAK,CAACiB,IAAN,CAAWT,GAAX;AACD,SARD;AASD;;AACDU,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BlB,GAA1B;AACAiB,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BnB,KAA3B;AACA,aAAOb,YAAY,CAACa,KAAD,CAAnB;AACD;;AACDJ,IAAAA,WAAW;AACZ,GArBQ,EAqBN,EArBM,CAAT;AAsBAxB,EAAAA,SAAS,CAAC,MAAM;AACd,mBAAegD,IAAf,GAAsB;AACpB,YAAMvC,QAAQ,GAAGwC,IAAX,CAAiBpB,GAAD,IAAS;AAC7BiB,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgClB,GAAhC;AACAlB,QAAAA,YAAY,CAACkB,GAAD,CAAZ;AACD,OAHK,CAAN;AAID;;AACDmB,IAAAA,IAAI;AACL,GARQ,EAQN,EARM,CAAT;AAUA,sBACE;AAAK,IAAA,KAAK,EAAE;AAAEE,MAAAA,eAAe,EAAE;AAAnB,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGhC,eAAe,GACZZ,YAAY,CAAC;AAAEa,IAAAA,kBAAF;AAAsBL,IAAAA;AAAtB,GAAD,CADA,GAEZ,IAHN,EAIGE,qBAAqB,GAClBT,YAAY,CAAC;AACXU,IAAAA,wBADW;AAEXH,IAAAA;AAFW,GAAD,CADM,GAKlB,IATN,eAUE;AACE,IAAA,EAAE,EAAC,OADL;AAEE,IAAA,SAAS,EAAC,iBAFZ;AAGE,IAAA,GAAG,EAAC,wBAHN;AAIE,IAAA,GAAG,EAAC,OAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CADF,eAkBE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAqB,IAAA,KAAK,EAAE;AAAEqC,MAAAA,cAAc,EAAE;AAAlB,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,2BAAf;AAA2C,IAAA,KAAK,EAAC,QAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,KAAK,EAAE;AAAEC,MAAAA,aAAa,EAAE;AAAjB,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,GADH,qBAEexC,IAAI,CAACyC,IAAL,CAAUhB,IAAV,CAAeiB,KAAf,CAAqB,GAArB,EAA0B,CAA1B,CAFf,oBAGE;AACE,IAAA,SAAS,EAAC,gBADZ;AAEE,IAAA,GAAG,EAAC,uBAFN;AAGE,IAAA,KAAK,EAAC,IAHR;AAIE,IAAA,KAAK,EAAE;AAAEC,MAAAA,SAAS,EAAE,CAAC,EAAd;AAAkBC,MAAAA,UAAU,EAAE;AAA9B,KAJT;AAKE,IAAA,GAAG,EAAC,EALN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CADF,eAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,CADF,CADF,eAiBE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAqB,IAAA,KAAK,EAAE;AAAEL,MAAAA,cAAc,EAAE;AAAlB,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,uCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,KAAK,EAAE;AAAEM,MAAAA,KAAK,EAAE;AAAT,KAAZ;AAA+B,IAAA,SAAS,EAAC,aAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAE7C,IAAI,CAACyC,IAAL,CAAUK,KADjB;AAEE,IAAA,KAAK,EAAC,KAFR;AAGE,IAAA,GAAG,EAAE9C,IAAI,CAACyC,IAAL,CAAUhB,IAHjB;AAIE,IAAA,SAAS,EAAC,MAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,KAAK,EAAE;AAAEe,MAAAA,aAAa,EAAE;AAAjB,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGGxC,IAAI,CAACyC,IAAL,CAAUM,MAAV,gBACC;AACE,IAAA,KAAK,EAAE;AACLC,MAAAA,KAAK,EAAE,QADF;AAELC,MAAAA,QAAQ,EAAE,QAFL;AAGLT,MAAAA,aAAa,EAAE;AAHV,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOGxC,IAAI,CAACyC,IAAL,CAAUM,MAPb,EAOqB,GAPrB,EAQG/C,IAAI,CAACyC,IAAL,CAAUS,SAAV,GAAsB,WAAtB,GAAoC,WARvC,CADD,gBAYC;AAAM,IAAA,KAAK,EAAE;AAAEF,MAAAA,KAAK,EAAE,QAAT;AAAmBC,MAAAA,QAAQ,EAAE;AAA7B,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAfJ,CATF,eA2BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,KAAK,EAAE;AAAET,MAAAA,aAAa,EAAE;AAAjB,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGGxC,IAAI,CAACyC,IAAL,CAAUU,KAAV,GACGnD,IAAI,CAACyC,IAAL,CAAUU,KAAV,CAAgBT,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,EAA8BU,KAA9B,CAAoC,CAApC,EAAuC,CAAvC,IACA,MADA,GAEApD,IAAI,CAACyC,IAAL,CAAUU,KAAV,CAAgBT,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAHH,GAIG,GAPN,CA3BF,eAoCE;AAAI,IAAA,KAAK,EAAE;AAAEF,MAAAA,aAAa,EAAE;AAAjB,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,KAAK,EAAE;AAAEA,MAAAA,aAAa,EAAE;AAAjB,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGGxC,IAAI,CAACyC,IAAL,CAAUhB,IAHb,CApCF,eAyCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,KAAK,EAAE;AAAEe,MAAAA,aAAa,EAAE;AAAjB,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,oBAzCF,CADF,eA+CE;AACE,IAAA,KAAK,EAAE;AACLa,MAAAA,OAAO,EAAE,MADJ;AAELC,MAAAA,aAAa,EAAE,QAFV;AAGLC,MAAAA,UAAU,EAAE,QAHP;AAILC,MAAAA,YAAY,EAAE,QAJT;AAKLjB,MAAAA,cAAc,EAAE;AALX,KADT;AAQE,IAAA,SAAS,EAAC,kCARZ;AASE,IAAA,KAAK,EAAC,OATR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAWE,oBAAC,IAAD;AACE,IAAA,EAAE,EAAC,eADL;AAEE,IAAA,EAAE,EAAC,MAFL;AAGE,IAAA,SAAS,EAAC,8BAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAXF,eAkBE;AACE,IAAA,EAAE,EAAC,eADL;AAEE,IAAA,SAAS,EAAC,8BAFZ;AAGE,IAAA,OAAO,EAAE,MACPvC,IAAI,CAACyC,IAAL,CAAUS,SAAV,GACI3C,kBAAkB,CAAC,IAAD,CADtB,GAEIF,wBAAwB,CAAC,IAAD,CANhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAlBF,EA4BO,GA5BP,eA6BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBA7BF,EA8BGJ,OAAO,IAAID,IAAI,CAACyC,IAAL,CAAUS,SAAV,KAAwB,KAAnC,gBACC,oBAAC,IAAD;AACE,IAAA,EAAE,EAAC,eADL;AAEE,IAAA,EAAE,EAAC,OAFL;AAGE,IAAA,SAAS,EAAC,6BAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADD,GAQG,IAtCN,eAuCE;AACE,IAAA,OAAO,EAAE,MAAM1C,OAAO,EADxB;AAEE,IAAA,EAAE,EAAC,eAFL;AAGE,IAAA,SAAS,EAAC,6BAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAvCF,CA/CF,CAjBF,eAiHE;AACE,IAAA,SAAS,EAAC,KADZ;AAEE,IAAA,KAAK,EAAE;AAAE+B,MAAAA,cAAc,EAAE,QAAlB;AAA4BI,MAAAA,SAAS,EAAE;AAAvC,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIG3C,IAAI,CAACyC,IAAL,CAAUS,SAAV,gBACC;AAAQ,IAAA,SAAS,EAAC,uBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,GAEG,IANN,CAjHF,CAlBF,eA4IE;AAAK,IAAA,SAAS,EAAC,mCAAf;AAAmD,IAAA,KAAK,EAAC,QAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,GAAG,EAAC,0BAAT;AAAoC,IAAA,SAAS,EAAC,WAA9C;AAA0D,IAAA,GAAG,EAAC,OAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CA5IF,eAgJE,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAE,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhJF,CADF;AAoJD;;AAED,MAAMO,eAAe,GAAIC,KAAD,KAAY;AAClC1D,EAAAA,IAAI,EAAE0D,KAAK,CAAC1D;AADsB,CAAZ,CAAxB;;AAIA,MAAM2D,kBAAkB,GAAG,CAACC,QAAD,EAAWC,KAAX,MAAsB;AAC/C9D,EAAAA,YAAY,EAAG+D,IAAD,IAAUF,QAAQ,CAACnE,WAAW,CAACsE,QAAZ,CAAqBD,IAArB,CAAD;AADe,CAAtB,CAA3B;;AAGA,eAAetE,OAAO,CAACiE,eAAD,EAAkBE,kBAAlB,CAAP,CAA6C7D,SAA7C,CAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Footer from \"../Footer/footer\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport * as cicloAction from \"../../actions/ciclo.actions\";\nimport PremiumModal from \"./Modals/PremiumModal\";\nimport ClassicModal from \"./Modals/ClassicModal\";\nimport firebase from \"../../utils/firebase\";\nimport { getCiclo } from \"../../services/vimeo\";\n\nfunction Dashboard({ setCicloData, auth, comprar }) {\n  const [materials, setMaterials] = useState(false);\n  const [isShowNotPremiumModal, setIsShowNotPremiumModal] = useState(false);\n  const [isShowMaterials, setIsShowMaterials] = useState(false);\n  const aplicar = () => {\n    window.location.replace(\n      \"https://www.mercadopago.com.pe/checkout/v1/redirect?pref_id=520976081-c9da5f8e-9779-414a-8495-0911090f8e35\"\n    );\n  };\n  useEffect(() => {\n    async function getMaterial() {\n      const db = await firebase.app().storage();\n      let items = [];\n      const res = await db.ref(`/LinkZoom`).listAll();\n      if (res.items && res.items.length > 0) {\n        res.items.map(async (el, ind) => {\n          let obj = {\n            name: \"https://zoom.us/j/\" + el.name.substring(0, 10),\n            url: el.fullPath,\n            download: await el.getDownloadURL(),\n            type: el.getMetadata(),\n          };\n          items.push(obj);\n        });\n      }\n      console.log(\"debuggin: \", res);\n      console.log(\"materials: \", items);\n      return setMaterials(items);\n    }\n    getMaterial();\n  }, []);\n  useEffect(() => {\n    async function getC() {\n      await getCiclo().then((res) => {\n        console.log(\"response ciclo: \", res);\n        setCicloData(res);\n      });\n    }\n    getC();\n  }, []);\n\n  return (\n    <div style={{ backgroundColor: \"white\" }}>\n      <div>\n        {isShowMaterials\n          ? PremiumModal({ setIsShowMaterials, materials })\n          : null}\n        {isShowNotPremiumModal\n          ? ClassicModal({\n              setIsShowNotPremiumModal,\n              materials,\n            })\n          : null}\n        <img\n          id=\"login\"\n          className=\"h-100 w-100 p-0\"\n          src=\"/assets/img/perfil.png\"\n          alt=\"login\"\n        />\n      </div>\n      <div className=\"container\">\n        <div className=\"row\" style={{ justifyContent: \"center\" }}>\n          <div className=\"col-md-10 col-12 perfilh1\" align=\"center\">\n            <h1 style={{ textTransform: \"capitalize\" }}>\n              {\" \"}\n              ¡Bienvenido {auth.user.name.split(\" \")[0]}!\n              <img\n                className=\"padding-mobile\"\n                src=\"assets/icons/ovni.png\"\n                width=\"40\"\n                style={{ marginTop: -10, marginLeft: 20 }}\n                alt=\"\"\n              />\n            </h1>\n            <div />\n          </div>\n        </div>\n        <div className=\"row\" style={{ justifyContent: \"center\" }}>\n          <div className=\"col-md-6 col-sm-8 col-12 text-center \">\n            <div style={{ width: \"100%\" }} className=\"text-center\">\n              <img\n                src={auth.user.photo}\n                width=\"150\"\n                alt={auth.user.name}\n                className=\"my-4\"\n              />\n            </div>\n            <h5>\n              <strong style={{ textTransform: \"uppercase\" }}>User ID: </strong>\n              <br />\n              {auth.user.userId ? (\n                <span\n                  style={{\n                    color: \"orange\",\n                    fontSize: \"1.6rem\",\n                    textTransform: \"uppercase\",\n                  }}\n                >\n                  {auth.user.userId}{\" \"}\n                  {auth.user.isPremium ? \"- PREMIUM\" : \"- CLASSIC\"}\n                </span>\n              ) : (\n                <span style={{ color: \"orange\", fontSize: \"1.6rem\" }}>-</span>\n              )}\n            </h5>\n            <h5>\n              <strong style={{ textTransform: \"uppercase\" }}>E-mail: </strong>\n              <br />\n              {auth.user.email\n                ? auth.user.email.split(\"@\")[0].slice(0, 4) +\n                  \"...@\" +\n                  auth.user.email.split(\"@\")[1]\n                : \"-\"}\n            </h5>\n            <h5 style={{ textTransform: \"capitalize\" }}>\n              <strong style={{ textTransform: \"uppercase\" }}>Nombre: </strong>\n              <br />\n              {auth.user.name}\n            </h5>\n            <h5>\n              <strong style={{ textTransform: \"uppercase\" }}>Ciclo:</strong>\n              <br /> Pre Ulima 2020\n            </h5>\n          </div>\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"center\",\n              alignContent: \"center\",\n              justifyContent: \"center\",\n            }}\n            className=\"col-md-6 col-sm-4 col-12 perfilR\"\n            align=\"right\"\n          >\n            <Link\n              id=\"boton-comprar\"\n              to=\"/rep\"\n              className=\"btn mx-auto my-4  shadow-lg \"\n            >\n              Ver Clases\n            </Link>\n            <a\n              id=\"boton-comprar\"\n              className=\"btn mx-auto my-4  shadow-lg \"\n              onClick={() =>\n                auth.user.isPremium\n                  ? setIsShowMaterials(true)\n                  : setIsShowNotPremiumModal(true)\n              }\n            >\n              Clases Online\n            </a>{\" \"}\n            <h4>Comprar Clases:</h4>\n            {comprar && auth.user.isPremium === false ? (\n              <Link\n                id=\"boton-comprar\"\n                to=\"/pago\"\n                className=\"btn mx-auto my-4  shadow-lg\"\n              >\n                Ulima\n              </Link>\n            ) : null}\n            <btn\n              onClick={() => aplicar()}\n              id=\"boton-comprar\"\n              className=\"btn mx-auto my-4  shadow-lg\"\n            >\n              San Marcos\n            </btn>\n          </div>\n        </div>\n\n        <div\n          className=\"row\"\n          style={{ justifyContent: \"center\", marginTop: 120 }}\n        >\n          {auth.user.isPremium ? (\n            <button className=\"pagolink btn btn-link\">Boleta de Pago</button>\n          ) : null}\n        </div>\n      </div>\n      <div className=\"col-md-12 m-auto  text-center p-2\" align=\"center\">\n        <br />\n        <img src=\"/assets/icons/footer.png\" className=\"img-fluid\" alt=\"cello\" />\n      </div>\n      <Footer sectionR={false} />\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  auth: state.auth,\n});\n\nconst mapDispatchToProps = (dispatch, props) => ({\n  setCicloData: (data) => dispatch(cicloAction.setCiclo(data)),\n});\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);\n"]},"metadata":{},"sourceType":"module"}