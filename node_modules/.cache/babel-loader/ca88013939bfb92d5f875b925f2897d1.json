{"ast":null,"code":"import ActionTypes from\"../constants/ActionTypes\";import jwt_decode from\"jwt-decode\";import setAuthToken from\"../utils/setAuthToken\";export var registerAuth=function registerAuth(token,history){return function(dispatch){console.log(\"im here \");console.log(token);localStorage.setItem(\"jwtToken\",token);// Set token to Auth header\nsetAuthToken(token);// Decode token to get user data\nvar decoded=jwt_decode(token);// Set current user\ndispatch(setCurrentUser(decoded));// history.push(\"/dashboard\");\nhistory.push(\"/dashboard\");};};// Set logged in user\nexport var setCurrentUser=function setCurrentUser(decoded){return{type:ActionTypes.SET_CURRENT_USER,payload:decoded};};// Log user out\nexport var logoutUser=function logoutUser(){return function(dispatch){// Remove token from local storage\nlocalStorage.removeItem(\"jwtToken\");// Remove auth header for future requests\nsetAuthToken(false);// Set current user to empty object {} which will set isAuthenticated to false\ndispatch(setCurrentUser({}));};};","map":{"version":3,"sources":["/home/chris/repos/StarkClass_Server/client/src/actions/actions.js"],"names":["ActionTypes","jwt_decode","setAuthToken","registerAuth","token","history","dispatch","console","log","localStorage","setItem","decoded","setCurrentUser","push","type","SET_CURRENT_USER","payload","logoutUser","removeItem"],"mappings":"AAAA,MAAOA,CAAAA,WAAP,KAAwB,0BAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CACA,MAAOC,CAAAA,YAAP,KAAyB,uBAAzB,CAEA,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAQC,OAAR,QAAoB,UAACC,QAAD,CAAc,CAC5DC,OAAO,CAACC,GAAR,CAAY,UAAZ,EACAD,OAAO,CAACC,GAAR,CAAYJ,KAAZ,EAEAK,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCN,KAAjC,EACA;AACAF,YAAY,CAACE,KAAD,CAAZ,CACA;AACA,GAAMO,CAAAA,OAAO,CAAGV,UAAU,CAACG,KAAD,CAA1B,CACA;AACAE,QAAQ,CAACM,cAAc,CAACD,OAAD,CAAf,CAAR,CACA;AACAN,OAAO,CAACQ,IAAR,CAAa,YAAb,EACD,CAb2B,EAArB,CAcP;AACA,MAAO,IAAMD,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACD,OAAD,CAAa,CACzC,MAAO,CACLG,IAAI,CAAEd,WAAW,CAACe,gBADb,CAELC,OAAO,CAAEL,OAFJ,CAAP,CAID,CALM,CAMP;AACA,MAAO,IAAMM,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,SAAM,UAACX,QAAD,CAAc,CAC5C;AACAG,YAAY,CAACS,UAAb,CAAwB,UAAxB,EACA;AACAhB,YAAY,CAAC,KAAD,CAAZ,CACA;AACAI,QAAQ,CAACM,cAAc,CAAC,EAAD,CAAf,CAAR,CACD,CAPyB,EAAnB","sourcesContent":["import ActionTypes from \"../constants/ActionTypes\";\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"../utils/setAuthToken\";\n\nexport const registerAuth = (token, history) => (dispatch) => {\n  console.log(\"im here \");\n  console.log(token);\n\n  localStorage.setItem(\"jwtToken\", token);\n  // Set token to Auth header\n  setAuthToken(token);\n  // Decode token to get user data\n  const decoded = jwt_decode(token);\n  // Set current user\n  dispatch(setCurrentUser(decoded));\n  // history.push(\"/dashboard\");\n  history.push(\"/dashboard\");\n};\n// Set logged in user\nexport const setCurrentUser = (decoded) => {\n  return {\n    type: ActionTypes.SET_CURRENT_USER,\n    payload: decoded,\n  };\n};\n// Log user out\nexport const logoutUser = () => (dispatch) => {\n  // Remove token from local storage\n  localStorage.removeItem(\"jwtToken\");\n  // Remove auth header for future requests\n  setAuthToken(false);\n  // Set current user to empty object {} which will set isAuthenticated to false\n  dispatch(setCurrentUser({}));\n};\n"]},"metadata":{},"sourceType":"module"}