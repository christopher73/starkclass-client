{"ast":null,"code":"var _jsxFileName = \"/home/chris/repos/StarkClass_Server/client/src/pages/vimeoPlayer.js\";\nimport React from \"react\";\nimport Vimeo from \"@u-wave/react-vimeo\";\nimport { getAlbum } from \"../services/vimeo\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport Button from \"@material-ui/core/Button\";\nimport SkipNextIcon from \"@material-ui/icons/SkipNext\";\nimport SkipPreviousIcon from \"@material-ui/icons/SkipPrevious\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport Switch from \"react-switch\";\nimport firebase from \"../utils/firebase\";\nimport { logoutUser } from \"../actions/actions\";\nimport \"./vimeo.css\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { Icon } from \"@material-ui/core\";\n\nclass VimeoPlayer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this._getMaterial = async () => {\n      const ruta = await this.state.playList.info[this.state.playSelected].name;\n      const db = await firebase.app().storage();\n      let items = [];\n      const name = this.state.pickerValues[this.state.pickSelected].displayName;\n      const res = await db.ref(`/${name}/${ruta}`).listAll();\n\n      if (res.items && res.items.length > 0) {\n        res.items.map(async (el, ind) => {\n          let obj = {\n            name: el.name,\n            url: el.fullPath,\n            download: await el.getDownloadURL(),\n            type: el.getMetadata()\n          };\n          items.push(obj);\n        });\n      }\n\n      console.log(\"debuggin: \", res);\n      console.log(\"materials: \", items);\n      return this.setState({\n        materials: items\n      });\n    };\n\n    this.rendermaterial = () => {\n      if (this.state.materials) {\n        return this.state.materials.map((el, ind) => {\n          console.log(el);\n          return /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 11\n            }\n          }, \" \", /*#__PURE__*/React.createElement(\"a\", {\n            href: el.download,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 13\n            }\n          }, el.name));\n        });\n      }\n    };\n\n    this.showMaterials = () => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"fondoGrisRep\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        style: {\n          justifyContent: \"center\",\n          alignContent: \"center\",\n          height: \"100%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"caja\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cabeceracaja\",\n        style: {\n          justifyContent: \"center\",\n          alignContent: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 15\n        }\n      }, \"Descarga los materiales\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cerrar\",\n        onClick: () => this.setState({\n          showMaterials: false\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        alt: \"img\",\n        src: \"./assets/icons/cerrar.png\",\n        width: \"20\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"bodycaja\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          paddingTop: 18\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 15\n        }\n      }, this.rendermaterial())))));\n    };\n\n    this._noPremiumModal = () => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"fondoGrisRep\",\n        style: {\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          display: \"flex\",\n          height: \"100%\",\n          width: \"100%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        style: {\n          justifyContent: \"center\",\n          alignContent: \"center\",\n          height: \"100%\",\n          position: \"fixed\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"caja\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cabeceracaja\",\n        style: {\n          justifyContent: \"flex-end\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cerrar\",\n        onClick: () => this.setState({\n          showNoPremiumModal: false\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        alt: \"img\",\n        src: \"./assets/icons/cerrar.png\",\n        width: \"20\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"bodycaja\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          paddingTop: 18,\n          justifyContent: \"center\",\n          display: \"flex\",\n          flexFlow: \"column\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        style: {\n          textAlign: \"center\",\n          width: \"100%\",\n          marginBottom: 18,\n          fontSize: 16\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 17\n        }\n      }, \"Lo sentimos, funci\\xF3n no habilitada para usuarios gratuitos.\"), /*#__PURE__*/React.createElement(\"h1\", {\n        style: {\n          textAlign: \"center\",\n          fontSize: 20,\n          marginBottom: 18\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 17\n        }\n      }, \"\\xA1An\\xEDmate a esta nueva experiencia y matric\\xFAlate ahora!\"), /*#__PURE__*/React.createElement(Link, {\n        style: {\n          alignSelf: \"center\",\n          width: \"70%\"\n        },\n        to: \"/pago\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          height: 65,\n          backgroundColor: \"#E3085C\",\n          color: \"white\",\n          textAlign: \"center\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          fontSize: 24\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 19\n        }\n      }, \"Comprar\")))))));\n    };\n\n    this._renderVimeoLayout = () => {\n      const {\n        auth\n      } = this.props;\n\n      if (this.state.playList && this.state.playList.info && this.state.playList.info.length > 0) {\n        console.log(\"reproduciendo: \", this.state.playList.info);\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(Vimeo, {\n          id: \"getvimeo\",\n          video: this.state.playList.info[this.state.playSelected].id,\n          autoplay: this.state.autoPlay,\n          responsive: true,\n          onEnd: async () => {\n            if (this.state.autoPlay) {\n              if (this.state.playSelected !== this.state.playList.info.length - 1) {\n                if (auth.user.isPremium) {\n                  this.setState({\n                    playSelected: this.state.playSelected + 1\n                  });\n                } else {\n                  if (this.state.playSelected < 3) {\n                    this.setState({\n                      playSelected: this.state.playSelected + 1\n                    });\n                  } else {\n                    this.setState({\n                      showNoPremiumModal: true\n                    });\n                  }\n                }\n              }\n            }\n\n            await this._getMaterial();\n          },\n          height: 250,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          style: {\n            height: \"100%\",\n            width: \"100%\",\n            backgroundColor: \"#333333\",\n            marginTop: 12,\n            marginLeft: 2,\n            display: \"flex\",\n            alignItems: \"center\",\n            padding: 12,\n            justifyContent: \"space-between\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 11\n          }\n        }, this.state.playList && this.state.playList.info && this.state.playList.info.length > 0 && /*#__PURE__*/React.createElement(\"label\", {\n          className: \"font-rep\",\n          style: {\n            color: \"white\",\n            fontSize: 18\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 17\n          }\n        }, this.state.playList.info[this.state.playSelected].name)), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          style: {\n            height: \"100%\",\n            width: \"100%\",\n            backgroundColor: \"rgb(40, 40, 40)\",\n            marginTop: 12,\n            display: \"flex\",\n            flexWrap: \"wrap\",\n            alignItems: \"center\",\n            padding: \"15px 10px 20px 50px\",\n            justifyContent: \"space-between\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-ms-6\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 13\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-ms-6\",\n          style: {\n            display: \"flex\",\n            flexWrap: \"wrap\",\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"label-white\",\n          style: {\n            marginRight: 10,\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          variant: \"contained\",\n          onClick: () => this.setState({\n            showNoPremiumModal: true\n          }),\n          style: {\n            backgroundColor: \"#1178F2\",\n            color: \"#fff\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 17\n          }\n        }, \"Asesoria\")), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"label-white\",\n          style: {\n            marginRight: 10,\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          variant: \"contained\",\n          onClick: async () => {\n            this.setState({\n              showMaterials: true\n            });\n          },\n          style: {\n            backgroundColor: \"#1178F2\",\n            color: \"white\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(AttachFileIcon, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 19\n          }\n        }), \"Materiales\")), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"margin-left-responsive\",\n          style: {\n            marginRight: 8,\n            marginTop: 5,\n            cursor: \"pointer\",\n            fontSize: 18,\n            color: \"#1d99f1\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(SkipPreviousIcon, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 17\n          }\n        }), /*#__PURE__*/React.createElement(\"label\", {\n          className: \"redim\",\n          style: {\n            color: \"white\",\n            margin: 0,\n            cursor: \"pointer\"\n          },\n          onClick: async () => {\n            if (this.state.playSelected === 0) {\n              await this._getMaterial();\n              return null;\n            } else {\n              await this.setState({\n                playSelected: this.state.playSelected - 1\n              });\n              await this._getMaterial();\n            }\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 17\n          }\n        }, \"Anterior\")), /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            // marginRight: 8,\n            marginTop: 5,\n            cursor: \"pointer\",\n            fontSize: 18,\n            color: \"#1d99f1\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          className: \"redim\",\n          style: {\n            color: \"white\",\n            margin: 0,\n            cursor: \"pointer\"\n          },\n          onClick: async () => {\n            if (this.state.playSelected === this.state.playList.info.length - 1) {\n              await this._getMaterial();\n              return null;\n            } else {\n              await this.setState({\n                playSelected: this.state.playSelected + 1\n              });\n              return await this._getMaterial();\n            }\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 17\n          }\n        }, \"Siguiente\"), /*#__PURE__*/React.createElement(SkipNextIcon, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 17\n          }\n        })))));\n      }\n    };\n\n    this._renderListLayout = () => {\n      if (this.state.playList && this.state.playList.info && this.state.playList.info.length > 0) {\n        console.log(\"info: \", this.state.playList.info);\n        let orden = this.state.playList.info.sort((a, b) => a.num > b.num ? 1 : -1);\n        return orden.map((el, ind) => {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            key: ind,\n            style: {\n              height: 55,\n              width: \"100%\",\n              marginBottom: 8,\n              color: \"white\",\n              display: \"flex\",\n              // justifyContent:'center',\n              alignItems: \"center\",\n              padding: 4,\n              cursor: \"pointer\",\n              borderRightColor: \"#1d99f1\",\n              borderRightWidth: this.state.playSelected === ind ? 3 : 0,\n              borderRightStyle: \"solid\",\n              fontSize: 13\n            },\n            onClick: async () => {\n              if (this.props.auth.user.isPremium) {\n                await this.setState({\n                  playSelected: ind\n                });\n              } else {\n                if (ind >= 4) {\n                  this.setState({\n                    showNoPremiumModal: true\n                  });\n                } else {\n                  await this.setState({\n                    playSelected: ind\n                  });\n                }\n              }\n\n              await this._getMaterial();\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 11\n            }\n          }, this.state.playSelected === ind && /*#__PURE__*/React.createElement(\"div\", {\n            id: \"triangle-right\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 49\n            }\n          }), String(el.name).toUpperCase());\n        });\n      }\n    };\n\n    this.state = {\n      playList: null,\n      playSelected: 0,\n      enableAutoPlay: true,\n      autoPlay: true,\n      showMaterials: false,\n      materials: null,\n      pickerValues: [],\n      pickSelected: 0,\n      showNoPremiumModal: false\n    };\n  } // topFunction() {\n  //     const doc= document.body.scrollTop = \"0\",\n  //     const doc2=document.documentElement.scrollTop = \"0\"\n  // }\n\n\n  async componentDidMount() {\n    const ciclo = await JSON.parse(localStorage.getItem(\"ciclo\"));\n\n    if (Object.keys(this.props.auth).length > 2) {\n      console.log(\"ciclo: \", JSON.stringify(ciclo));\n      console.log(\"authentication: \", JSON.stringify(this.props.auth));\n\n      if (ciclo) {\n        if (ciclo && ciclo.responseCode === 0 && ciclo.document) {\n          console.log(\"entro al if\");\n\n          if (ciclo.document.cursos && ciclo.document.cursos.length > 0) {\n            let arr = [];\n            ciclo.document.cursos.map((el, ind) => {\n              //   console.log(el);\n              arr.push({\n                ind: ind,\n                displayName: el.nombre,\n                id: el.albumID\n              });\n              return null;\n            });\n            this.setState({\n              pickerValues: arr\n            });\n          }\n\n          await this._getAlbum(ciclo.document.cursos[0].albumID);\n          await this._getMaterial();\n        } else {\n          console.log(\"entro al else\");\n        }\n      }\n    } else {\n      window.location.href = \"./login\";\n    }\n\n    console.log(this.props.auth);\n  }\n\n  icon() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: 30,\n        marginLeft: 15,\n        height: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      \"aria-hidden\": \"true\",\n      focusable: \"false\",\n      \"data-prefix\": \"fas\",\n      \"data-icon\": \"caret-down\",\n      role: \"img\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 320 512\",\n      class: \"svg-inline--fa fa-caret-down fa-w-10 fa-3x\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      fill: \"currentColor\",\n      d: \"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z\",\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    })));\n  }\n\n  async _getAlbum(id) {\n    let mayor = 1;\n    let data;\n    await getAlbum(id).then(res => {\n      if (res.info) {\n        res.info.map((el, ind) => {\n          let i = el.name.indexOf(\" \");\n          let num = parseInt(String(el.name).substr(0, i));\n          console.log(\"num:\", num);\n\n          if (Number(num) || num === 0) {\n            if (num > mayor) {\n              mayor = num;\n            }\n\n            if (el.name.indexOf(\"Presentación\") >= 0) {\n              el.num = -1;\n            } else {\n              el.num = num === 0 ? ind / 100 : Number(num);\n            }\n          } else {\n            el.num = mayor * 100 + ind;\n          }\n\n          return null;\n        });\n        data = res;\n      }\n    });\n    return await this.setState({\n      playList: data\n    }, async () => await this._getMaterial());\n  }\n\n  render() {\n    console.log(\"autoPlay: \", this.state.autoPlay);\n    console.log(\"values: \", this.state.pickerValues[0]);\n    console.log(\"selected: \", this.state.pickSelected);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"vimeo-container\",\n      style: {\n        display: \"flex\",\n        height: \"80 .8%\",\n        backgroundColor: \"#282828\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 7\n      }\n    }, this.state.showMaterials ? this.showMaterials() : null, this.state.showNoPremiumModal ? this._noPremiumModal() : null, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"vimeo-row-1\",\n      style: {\n        backgroundColor: \"#282828\",\n        padding: 16\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 562,\n        columnNumber: 9\n      }\n    }, this._renderVimeoLayout()), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"vimeo-row-2\",\n      style: {\n        backgroundColor: \"#282828\",\n        padding: 12\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 571,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 578,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        flexDirection: \"row\",\n        display: \"flex\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        color: \"white\",\n        fontSize: 16,\n        flex: 2,\n        height: 55,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 585,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        flex: 1,\n        display: \"flex\",\n        flexFlow: \"row\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        color: \"white\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 15\n      }\n    }, \"autoplay\", /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: 8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 607,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Switch, {\n      checked: this.state.autoPlay,\n      onChange: e => {\n        this.setState({\n          autoPlay: e\n        });\n      },\n      onColor: \"#1d99f1\",\n      uncheckedIcon: false,\n      checkedIcon: false,\n      height: 17,\n      width: 34,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 608,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        flexDirection: \"row\",\n        display: \"flex\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 621,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"elegir-curso\",\n      style: {\n        color: \"white\",\n        fontSize: 16,\n        flex: 2,\n        height: 55,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 627,\n        columnNumber: 15\n      }\n    }, \"Elegir Curso\"))), this.state.pickerValues.length > 0 ? /*#__PURE__*/React.createElement(FormControl, {\n      className: \"vimeo-selecter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 645,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Select, {\n      style: {\n        borderBottomColor: \"white\"\n      },\n      value: this.state.pickSelected,\n      IconComponent: this.icon,\n      onChange: async e => {\n        if (this.state.pickSelected !== e.target.value) {\n          await this.setState({\n            pickSelected: e.target.value,\n            playSelected: 0,\n            playList: null\n          });\n        }\n\n        return await this._getAlbum(this.state.pickerValues[e.target.value].id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 646,\n        columnNumber: 15\n      }\n    }, this.state.pickerValues.map((el, ind) => {\n      return /*#__PURE__*/React.createElement(MenuItem, {\n        key: \"menuItem\" + ind,\n        style: {\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        value: ind,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 21\n        }\n      }, el.displayName);\n    }))) : null, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        backgroundColor: \"#333333\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 682,\n        columnNumber: 11\n      }\n    }, this._renderListLayout())));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  ciclo: state.ciclo\n});\n\nexport default connect(mapStateToProps, {\n  logoutUser\n})(VimeoPlayer);","map":{"version":3,"sources":["/home/chris/repos/StarkClass_Server/client/src/pages/vimeoPlayer.js"],"names":["React","Vimeo","getAlbum","FormControl","MenuItem","Select","Button","SkipNextIcon","SkipPreviousIcon","AttachFileIcon","Switch","firebase","logoutUser","connect","Link","Icon","VimeoPlayer","Component","constructor","props","_getMaterial","ruta","state","playList","info","playSelected","name","db","app","storage","items","pickerValues","pickSelected","displayName","res","ref","listAll","length","map","el","ind","obj","url","fullPath","download","getDownloadURL","type","getMetadata","push","console","log","setState","materials","rendermaterial","showMaterials","justifyContent","alignContent","height","paddingTop","_noPremiumModal","alignItems","display","width","position","showNoPremiumModal","flexFlow","textAlign","marginBottom","fontSize","alignSelf","backgroundColor","color","_renderVimeoLayout","auth","id","autoPlay","user","isPremium","marginTop","marginLeft","padding","flexWrap","marginRight","cursor","margin","_renderListLayout","orden","sort","a","b","num","borderRightColor","borderRightWidth","borderRightStyle","String","toUpperCase","enableAutoPlay","componentDidMount","ciclo","JSON","parse","localStorage","getItem","Object","keys","stringify","responseCode","document","cursos","arr","nombre","albumID","_getAlbum","window","location","href","icon","mayor","data","then","i","indexOf","parseInt","substr","Number","render","flexDirection","flex","e","borderBottomColor","target","value","mapStateToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Vimeo from \"@u-wave/react-vimeo\";\nimport { getAlbum } from \"../services/vimeo\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport Button from \"@material-ui/core/Button\";\nimport SkipNextIcon from \"@material-ui/icons/SkipNext\";\nimport SkipPreviousIcon from \"@material-ui/icons/SkipPrevious\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport Switch from \"react-switch\";\nimport firebase from \"../utils/firebase\";\nimport { logoutUser } from \"../actions/actions\";\nimport \"./vimeo.css\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { Icon } from \"@material-ui/core\";\n\nclass VimeoPlayer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      playList: null,\n      playSelected: 0,\n      enableAutoPlay: true,\n      autoPlay: true,\n      showMaterials: false,\n      materials: null,\n      pickerValues: [],\n      pickSelected: 0,\n      showNoPremiumModal: false\n    };\n  }\n\n  // topFunction() {\n  //     const doc= document.body.scrollTop = \"0\",\n  //     const doc2=document.documentElement.scrollTop = \"0\"\n  // }\n\n  _getMaterial = async () => {\n    const ruta = await this.state.playList.info[this.state.playSelected].name;\n    const db = await firebase.app().storage();\n    let items = [];\n    const name = this.state.pickerValues[this.state.pickSelected].displayName;\n    const res = await db.ref(`/${name}/${ruta}`).listAll();\n    if (res.items && res.items.length > 0) {\n      res.items.map(async (el, ind) => {\n        let obj = {\n          name: el.name,\n          url: el.fullPath,\n          download: await el.getDownloadURL(),\n          type: el.getMetadata()\n        };\n        items.push(obj);\n      });\n    }\n    console.log(\"debuggin: \", res);\n    console.log(\"materials: \", items);\n    return this.setState({ materials: items });\n  };\n\n  async componentDidMount() {\n    const ciclo = await JSON.parse(localStorage.getItem(\"ciclo\"));\n\n    if (Object.keys(this.props.auth).length > 2) {\n      console.log(\"ciclo: \", JSON.stringify(ciclo));\n      console.log(\"authentication: \", JSON.stringify(this.props.auth));\n      if (ciclo) {\n        if (ciclo && ciclo.responseCode === 0 && ciclo.document) {\n          console.log(\"entro al if\");\n          if (ciclo.document.cursos && ciclo.document.cursos.length > 0) {\n            let arr = [];\n            ciclo.document.cursos.map((el, ind) => {\n              //   console.log(el);\n              arr.push({\n                ind: ind,\n                displayName: el.nombre,\n                id: el.albumID\n              });\n              return null;\n            });\n            this.setState({ pickerValues: arr });\n          }\n          await this._getAlbum(ciclo.document.cursos[0].albumID);\n          await this._getMaterial();\n        } else {\n          console.log(\"entro al else\");\n        }\n      }\n    } else {\n      window.location.href = \"./login\";\n    }\n    console.log(this.props.auth);\n  }\n  icon() {\n    return (\n      <div style={{ width: 30, marginLeft: 15, height: \"100%\" }}>\n        <svg\n          aria-hidden=\"true\"\n          focusable=\"false\"\n          data-prefix=\"fas\"\n          data-icon=\"caret-down\"\n          role=\"img\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 320 512\"\n          class=\"svg-inline--fa fa-caret-down fa-w-10 fa-3x\"\n        >\n          <path\n            fill=\"currentColor\"\n            d=\"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z\"\n            className=\"\"\n          ></path>\n        </svg>\n      </div>\n    );\n  }\n  async _getAlbum(id) {\n    let mayor = 1;\n    let data;\n    await getAlbum(id).then(res => {\n      if (res.info) {\n        res.info.map((el, ind) => {\n          let i = el.name.indexOf(\" \");\n          let num = parseInt(String(el.name).substr(0, i));\n          console.log(\"num:\", num);\n          if (Number(num) || num === 0) {\n            if (num > mayor) {\n              mayor = num;\n            }\n            if (el.name.indexOf(\"Presentación\") >= 0) {\n              el.num = -1;\n            } else {\n              el.num = num === 0 ? ind / 100 : Number(num);\n            }\n          } else {\n            el.num = mayor * 100 + ind;\n          }\n          return null;\n        });\n        data = res;\n      }\n    });\n\n    return await this.setState(\n      {\n        playList: data\n      },\n      async () => await this._getMaterial()\n    );\n  }\n  rendermaterial = () => {\n    if (this.state.materials) {\n      return this.state.materials.map((el, ind) => {\n        console.log(el);\n        return (\n          <div>\n            {\" \"}\n            <a href={el.download}>{el.name}</a>\n          </div>\n        );\n      });\n    }\n  };\n\n  showMaterials = () => {\n    return (\n      <div className=\"fondoGrisRep\">\n        <div\n          className=\"row\"\n          style={{\n            justifyContent: \"center\",\n            alignContent: \"center\",\n            height: \"100%\"\n          }}\n        >\n          <div className=\"caja\">\n            <div\n              className=\"cabeceracaja\"\n              style={{ justifyContent: \"center\", alignContent: \"center\" }}\n            >\n              <h1>Descarga los materiales</h1>\n              <div\n                className=\"cerrar\"\n                onClick={() => this.setState({ showMaterials: false })}\n              >\n                <img alt=\"img\" src=\"./assets/icons/cerrar.png\" width=\"20\" />\n              </div>\n            </div>\n            <div className=\"bodycaja\">\n              <div style={{ paddingTop: 18 }}>{this.rendermaterial()}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  _noPremiumModal = () => {\n    return (\n      <div\n        className=\"fondoGrisRep\"\n        style={{\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          display: \"flex\",\n          height: \"100%\",\n          width: \"100%\"\n        }}\n      >\n        <div\n          className=\"row\"\n          style={{\n            justifyContent: \"center\",\n            alignContent: \"center\",\n            height: \"100%\",\n            position: \"fixed\"\n          }}\n        >\n          <div className=\"caja\">\n            <div\n              className=\"cabeceracaja\"\n              style={{ justifyContent: \"flex-end\" }}\n            >\n              <div\n                className=\"cerrar\"\n                onClick={() => this.setState({ showNoPremiumModal: false })}\n              >\n                <img alt=\"img\" src=\"./assets/icons/cerrar.png\" width=\"20\" />\n              </div>\n            </div>\n            <div className=\"bodycaja\">\n              <div\n                style={{\n                  paddingTop: 18,\n                  justifyContent: \"center\",\n                  display: \"flex\",\n                  flexFlow: \"column\"\n                }}\n              >\n                <label\n                  style={{\n                    textAlign: \"center\",\n                    width: \"100%\",\n                    marginBottom: 18,\n                    fontSize: 16\n                  }}\n                >\n                  Lo sentimos, función no habilitada para usuarios gratuitos.\n                </label>\n                <h1\n                  style={{\n                    textAlign: \"center\",\n                    fontSize: 20,\n                    marginBottom: 18\n                  }}\n                >\n                  ¡Anímate a esta nueva experiencia y matricúlate ahora!\n                </h1>\n                <Link\n                  style={{ alignSelf: \"center\", width: \"70%\" }}\n                  to={\"/pago\"}\n                >\n                  <div\n                    style={{\n                      height: 65,\n                      backgroundColor: \"#E3085C\",\n                      color: \"white\",\n                      textAlign: \"center\",\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      justifyContent: \"center\",\n                      fontSize: 24\n                    }}\n                  >\n                    Comprar\n                  </div>\n                </Link>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  _renderVimeoLayout = () => {\n    const { auth } = this.props;\n\n    if (\n      this.state.playList &&\n      this.state.playList.info &&\n      this.state.playList.info.length > 0\n    ) {\n      console.log(\"reproduciendo: \", this.state.playList.info);\n      return (\n        <div>\n          <Vimeo\n            id=\"getvimeo\"\n            video={this.state.playList.info[this.state.playSelected].id}\n            autoplay={this.state.autoPlay}\n            responsive\n            onEnd={async () => {\n              if (this.state.autoPlay) {\n                if (\n                  this.state.playSelected !==\n                  this.state.playList.info.length - 1\n                ) {\n                  if (auth.user.isPremium) {\n                    this.setState({\n                      playSelected: this.state.playSelected + 1\n                    });\n                  } else {\n                    if (this.state.playSelected < 3) {\n                      this.setState({\n                        playSelected: this.state.playSelected + 1\n                      });\n                    } else {\n                      this.setState({ showNoPremiumModal: true });\n                    }\n                  }\n                }\n              }\n              await this._getMaterial();\n            }}\n            height={250}\n          />\n          <div\n            className=\"row\"\n            style={{\n              height: \"100%\",\n              width: \"100%\",\n              backgroundColor: \"#333333\",\n              marginTop: 12,\n              marginLeft: 2,\n              display: \"flex\",\n              alignItems: \"center\",\n              padding: 12,\n              justifyContent: \"space-between\"\n            }}\n          >\n            {this.state.playList &&\n              this.state.playList.info &&\n              this.state.playList.info.length > 0 && (\n                <label\n                  className=\"font-rep\"\n                  style={{ color: \"white\", fontSize: 18 }}\n                >\n                  {this.state.playList.info[this.state.playSelected].name}\n                </label>\n              )}\n          </div>\n          <div\n            className=\"row\"\n            style={{\n              height: \"100%\",\n              width: \"100%\",\n              backgroundColor: \"rgb(40, 40, 40)\",\n              marginTop: 12,\n              display: \"flex\",\n              flexWrap: \"wrap\",\n              alignItems: \"center\",\n              padding: \"15px 10px 20px 50px\",\n              justifyContent: \"space-between\"\n            }}\n          >\n            <div className=\"col-ms-6\"></div>\n            <div\n              className=\"col-ms-6\"\n              style={{\n                display: \"flex\",\n                flexWrap: \"wrap\",\n                justifyContent: \"center\",\n                alignItems: \"center\"\n              }}\n            >\n              {/* <div> */}\n              <div\n                className=\"label-white\"\n                style={{\n                  marginRight: 10,\n                  justifyContent: \"center\",\n                  alignItems: \"center\"\n                }}\n              >\n                <Button\n                  variant=\"contained\"\n                  onClick={() => this.setState({ showNoPremiumModal: true })}\n                  style={{\n                    backgroundColor: \"#1178F2\",\n                    color: \"#fff\"\n                  }}\n                >\n                  Asesoria\n                </Button>\n              </div>\n              <div\n                className=\"label-white\"\n                style={{\n                  marginRight: 10,\n                  justifyContent: \"center\",\n                  alignItems: \"center\"\n                }}\n              >\n                <Button\n                  variant=\"contained\"\n                  onClick={async () => {\n                    this.setState({ showMaterials: true });\n                  }}\n                  style={{\n                    backgroundColor: \"#1178F2\",\n                    color: \"white\"\n                  }}\n                >\n                  <AttachFileIcon />\n                  Materiales\n                </Button>\n              </div>\n              {/* </div>\n                        379 440\n                        <div> */}\n              <div\n                className=\"margin-left-responsive\"\n                style={{\n                  marginRight: 8,\n                  marginTop: 5,\n\n                  cursor: \"pointer\",\n                  fontSize: 18,\n                  color: \"#1d99f1\"\n                }}\n              >\n                <SkipPreviousIcon />\n                <label\n                  className=\"redim\"\n                  style={{ color: \"white\", margin: 0, cursor: \"pointer\" }}\n                  onClick={async () => {\n                    if (this.state.playSelected === 0) {\n                      await this._getMaterial();\n                      return null;\n                    } else {\n                      await this.setState({\n                        playSelected: this.state.playSelected - 1\n                      });\n                      await this._getMaterial();\n                    }\n                  }}\n                >\n                  Anterior\n                </label>\n              </div>\n              <div\n                style={{\n                  // marginRight: 8,\n                  marginTop: 5,\n                  cursor: \"pointer\",\n                  fontSize: 18,\n                  color: \"#1d99f1\"\n                }}\n              >\n                <label\n                  className=\"redim\"\n                  style={{ color: \"white\", margin: 0, cursor: \"pointer\" }}\n                  onClick={async () => {\n                    if (\n                      this.state.playSelected ===\n                      this.state.playList.info.length - 1\n                    ) {\n                      await this._getMaterial();\n                      return null;\n                    } else {\n                      await this.setState({\n                        playSelected: this.state.playSelected + 1\n                      });\n                      return await this._getMaterial();\n                    }\n                  }}\n                >\n                  Siguiente\n                </label>\n                <SkipNextIcon />\n              </div>\n              {/* </div> */}\n            </div>\n          </div>\n        </div>\n      );\n    }\n  };\n\n  _renderListLayout = () => {\n    if (\n      this.state.playList &&\n      this.state.playList.info &&\n      this.state.playList.info.length > 0\n    ) {\n      console.log(\"info: \", this.state.playList.info);\n      let orden = this.state.playList.info.sort((a, b) =>\n        a.num > b.num ? 1 : -1\n      );\n      return orden.map((el, ind) => {\n        return (\n          <div\n            key={ind}\n            style={{\n              height: 55,\n              width: \"100%\",\n              marginBottom: 8,\n              color: \"white\",\n              display: \"flex\",\n              // justifyContent:'center',\n              alignItems: \"center\",\n              padding: 4,\n              cursor: \"pointer\",\n              borderRightColor: \"#1d99f1\",\n              borderRightWidth: this.state.playSelected === ind ? 3 : 0,\n              borderRightStyle: \"solid\",\n              fontSize: 13\n            }}\n            onClick={async () => {\n              if (this.props.auth.user.isPremium) {\n                await this.setState({\n                  playSelected: ind\n                });\n              } else {\n                if (ind >= 4) {\n                  this.setState({ showNoPremiumModal: true });\n                } else {\n                  await this.setState({\n                    playSelected: ind\n                  });\n                }\n              }\n              await this._getMaterial();\n            }}\n          >\n            {this.state.playSelected === ind && <div id=\"triangle-right\"></div>}\n\n            {String(el.name).toUpperCase()}\n          </div>\n        );\n      });\n    }\n  };\n\n  render() {\n    console.log(\"autoPlay: \", this.state.autoPlay);\n    console.log(\"values: \", this.state.pickerValues[0]);\n    console.log(\"selected: \", this.state.pickSelected);\n    return (\n      <div\n        id=\"vimeo-container\"\n        style={{\n          display: \"flex\",\n          height: \"80 .8%\",\n          backgroundColor: \"#282828\"\n        }}\n      >\n        {this.state.showMaterials ? this.showMaterials() : null}\n\n        {this.state.showNoPremiumModal ? this._noPremiumModal() : null}\n\n        <div\n          id=\"vimeo-row-1\"\n          style={{\n            backgroundColor: \"#282828\",\n            padding: 16\n          }}\n        >\n          {this._renderVimeoLayout()}\n        </div>\n        <div\n          id=\"vimeo-row-2\"\n          style={{\n            backgroundColor: \"#282828\",\n            padding: 12\n          }}\n        >\n          <div>\n            <div\n              style={{\n                flexDirection: \"row\",\n                display: \"flex\"\n              }}\n            >\n              <div\n                style={{\n                  color: \"white\",\n                  fontSize: 16,\n                  flex: 2,\n                  height: 55,\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                  alignItems: \"center\"\n                }}\n              ></div>\n              <div\n                style={{\n                  flex: 1,\n                  display: \"flex\",\n                  flexFlow: \"row\",\n                  justifyContent: \"center\",\n                  alignItems: \"center\",\n                  color: \"white\"\n                }}\n              >\n                autoplay\n                <div style={{ width: 8 }} />\n                <Switch\n                  checked={this.state.autoPlay}\n                  onChange={e => {\n                    this.setState({ autoPlay: e });\n                  }}\n                  onColor={\"#1d99f1\"}\n                  uncheckedIcon={false}\n                  checkedIcon={false}\n                  height={17}\n                  width={34}\n                />\n              </div>\n            </div>\n            <div\n              style={{\n                flexDirection: \"row\",\n                display: \"flex\"\n              }}\n            >\n              <div\n                className=\"elegir-curso\"\n                style={{\n                  color: \"white\",\n                  fontSize: 16,\n                  flex: 2,\n                  height: 55,\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                  alignItems: \"center\"\n                }}\n              >\n                Elegir Curso\n              </div>\n            </div>\n          </div>\n\n          {this.state.pickerValues.length > 0 ? (\n            <FormControl className=\"vimeo-selecter\">\n              <Select\n                style={{\n                  borderBottomColor: \"white\"\n                }}\n                value={this.state.pickSelected}\n                IconComponent={this.icon}\n                onChange={async e => {\n                  if (this.state.pickSelected !== e.target.value) {\n                    await this.setState({\n                      pickSelected: e.target.value,\n                      playSelected: 0,\n                      playList: null\n                    });\n                  }\n                  return await this._getAlbum(\n                    this.state.pickerValues[e.target.value].id\n                  );\n                }}\n              >\n                {this.state.pickerValues.map((el, ind) => {\n                  return (\n                    <MenuItem\n                      key={\"menuItem\" + ind}\n                      style={{\n                        justifyContent: \"center\",\n                        alignItems: \"center\"\n                      }}\n                      value={ind}\n                    >\n                      {el.displayName}\n                    </MenuItem>\n                  );\n                })}\n              </Select>\n            </FormControl>\n          ) : null}\n          <div\n            style={{\n              backgroundColor: \"#333333\"\n            }}\n          >\n            {this._renderListLayout()}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  ciclo: state.ciclo\n});\n\nexport default connect(mapStateToProps, { logoutUser })(VimeoPlayer);\n"]},"metadata":{},"sourceType":"module"}